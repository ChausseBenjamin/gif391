\documentclass[a11paper, 11pt]{article}

\usepackage{document}
\usepackage{titlepage}
\usepackage[T1]{fontenc}
\usepackage[french]{babel}
\usepackage{codeblocks}
\usepackage{xcolor}

% \addbibresource{bibliography.bib}
% \nofiles

\newcommand{\todo}[1]{\textcolor{orange}{\textbf{TODO}: #1}}
\newcommand{\note}[1]{\textcolor{purple}{\textbf{NOTE}: #1}}
\newcommand{\xxx}[1]{\textcolor{red}{\textbf{XXX}: #1}}

% \institution{Université de Sherbrooke}
% \faculty{Faculté de génie}
% \department{Département de génie électrique et de génie informatique}
\title{Rapport d'APP}
\classnb{GIF391}
\class{Conception d'un système distribué}
\author{
  \addtolength{\tabcolsep}{-0.4em}
  \begin{tabular}{rcl} % Ajouter des auteurs au besoin
  Benjamin Chausse & -- & CHAB1704 \\
  Samuel Bilodeau  & -- & BILS2704 \\
  \end{tabular}
}
\teacher{Frédéric Mailhot}
% \location{Sherbrooke}
% \date{\today}

\begin{document}
\maketitle
\newpage
\tableofcontents
\newpage

\section{Description des solutions utilisées}

\subsection{Arrêt 1: Exemple d'utilisation des commandes}

À ce stade, l'infrastructure emploie un seul conteneur pour son fonctionnement.
Afin de lancer le système, il faut d'abord construire l'image du conteneur à
partir de son \textit{Dockerfile}. Par la suite, il faut lancer le conteneur
afin qu'il puisse s'exécuter en arrière-plan. Enfin, il est possible de s'y
connecter pour utiliser le système. Voici un exemple d'utilisation de
l'infrastrucure (le résultat de commandes de mise en place est remplacé par
"\texttt{...}"):

\begin{code}[title={zsh (dans un terminal)},listing options={language=bash, style=bashstyle}]
docker build -t arret01 . # Construction de l'image
docker run -it arret01 # Lancement interactif du conteneur
\end{code}

\begin{code}[title={sh (dans le conteneur)},listing options={language=bash, style=bashstyle}]
liste   # Liste des TODOs dans la liste (devrait etre vide)
nouveau # Ajout d'un TODO utilisant fortune pour la description
liste   # La liste devrait maintenant contenir un TODO
retrait # Retrait du TODO ajoute precedemment
liste   # La liste devrait etre vide a nouveau
\end{code}

À l'intérieur de l'environnement de l'application (dans le conteneur), les
commandes \texttt{liste}, \texttt{nouveau} et \texttt{retrait} permettent la
gestion des TODOs pour un seul utilisateur. Puisque ce système sert de
prototype, la commande \texttt{nouveau} génère une description aléatoire à
l'aide de l'utilitarie \texttt{fortune}. Dans un système réel, cette commande
devrait être remplacée par une commande permettant d'ajouter un TODO avec une
description spécifiée par l'utilisateur et l'auteur du TODO devrait être
déterminé au préalable (possiblement dans un fichier de configuration).

\subsection{Arrêt 2: Fichier de configuration fonctionnel}
\input{arret02.tex}

\newpage
\subsection{Arrêt 3: Fichier \textit{yml} utilisé pour \textit{docker-compose}}
\input{arret03.tex}

\subsection{Arrêt 4: Explication des problèmes inhérents}

\subsection{Arrêt 5: Fichier \textit{yml} utilisé pour \textit{docker-compose}}

\subsection{Arrêt 6: Fichier \textit{yml} utilisé pour \textit{kubernetes}}

\section{Discussion de la structure}

\todo{Quelle est la structure du système distribué de façon générique?} \\

\subsection{Technologies sous-jacentes}

\subsubsection{Identification des ressources}

\subsubsection{Contrôle d'accès aux ressources}

\subsubsection{Gestion des accès aux fichiers utilisés}

\todo{Quels sont les pilotes utilisables pour la persistance du système de fichiers
à union ?} \\
\todo{Quel pilote de persistence a été utilisé et pourquoi ?}

\subsubsection{Configuration réseau pour la communication des conteneurs}

\subsubsection{Duplication mise en place pour les ressources}

\todo{Quelles ressources doivent être dupliquées, et pourquoi?} \\
\todo{Dans quel cas la duplication peut se faire sur une machine réelle unique, dans
quel cas elle doit être distribuée sur plusieurs machines réelles ?}


% \newpage
% \printbibliography[heading=bibintoc]
\end{document}
